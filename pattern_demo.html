<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>pattern</title>
  <style type="text/css">
    html, body {
      margin: 0;
      font-size: 0
    }
    canvas {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <canvas id="canvas">
    当前浏览器不支持Canvas，请更换浏览器后重试
  </canvas>
</body>
<script src="getContext.js"></script>
<script>
  window.onload = function() {
    var ctx = getContext();
    var canvas = getCanvas();

    canvas.width = 800;
    canvas.height = 800;

    var bgImg = new Image();
    bgImg.src = "Koala-eye.png";
    bgImg.onload = function () {
      var pattern = ctx.createPattern(bgImg, 'repeat');
      ctx.fillStyle = pattern;
      ctx.fillRect(0, 0, 800, 800);
    };
  };
</script>
</html>